

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>kg_topology_toolbox.topology_toolbox.KGTopologyToolbox &mdash; KG Topology Toolbox  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="kg_topology_toolbox.utils" href="kg_topology_toolbox.utils.html" />
    <link rel="prev" title="kg_topology_toolbox.topology_toolbox" href="kg_topology_toolbox.topology_toolbox.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            KG Topology Toolbox
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../user_guide.html">User guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks/ogb_biokg_demo.html">KGTopologyToolbox walk-through</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../API_reference.html">API reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="kg_topology_toolbox.topology_toolbox.html">kg_topology_toolbox.topology_toolbox</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">kg_topology_toolbox.topology_toolbox.KGTopologyToolbox</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#kg_topology_toolbox.topology_toolbox.KGTopologyToolbox"><code class="docutils literal notranslate"><span class="pre">KGTopologyToolbox</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="kg_topology_toolbox.utils.html">kg_topology_toolbox.utils</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">KG Topology Toolbox</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../API_reference.html">API Reference</a></li>
          <li class="breadcrumb-item"><a href="kg_topology_toolbox.topology_toolbox.html">kg_topology_toolbox.topology_toolbox</a></li>
      <li class="breadcrumb-item active">kg_topology_toolbox.topology_toolbox.KGTopologyToolbox</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/generated/kg_topology_toolbox.topology_toolbox.KGTopologyToolbox.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="kg-topology-toolbox-topology-toolbox-kgtopologytoolbox">
<h1>kg_topology_toolbox.topology_toolbox.KGTopologyToolbox<a class="headerlink" href="#kg-topology-toolbox-topology-toolbox-kgtopologytoolbox" title="Link to this heading"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="kg_topology_toolbox.topology_toolbox.KGTopologyToolbox">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">kg_topology_toolbox.topology_toolbox.</span></span><span class="sig-name descname"><span class="pre">KGTopologyToolbox</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kg_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">head_column</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'h'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">relation_column</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'r'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tail_column</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'t'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kg_topology_toolbox/topology_toolbox.html#KGTopologyToolbox"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#kg_topology_toolbox.topology_toolbox.KGTopologyToolbox" title="Link to this definition"></a></dt>
<dd><p>Toolbox class to compute Knowledge Graph topology statistics.</p>
<p>Instantiate the Topology Toolbox for a Knowledge Graph defined
by the list of its edges (h,r,t).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kg_df</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></span>) – A Knowledge Graph represented as a pd.DataFrame.
Must contain at least three columns, which specify the IDs of
head entity, relation type and tail entity for each edge.</p></li>
<li><p><strong>head_column</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span>) – The name of the column with the IDs of head entities. Default: “h”.</p></li>
<li><p><strong>relation_column</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span>) – The name of the column with the IDs of relation types. Default: “r”.</p></li>
<li><p><strong>tail_column</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span>) – The name of the column with the IDs of tail entities. Default: “t”.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="kg_topology_toolbox.topology_toolbox.KGTopologyToolbox.edge_cardinality">
<span class="sig-name descname"><span class="pre">edge_cardinality</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kg_topology_toolbox/topology_toolbox.html#KGTopologyToolbox.edge_cardinality"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#kg_topology_toolbox.topology_toolbox.KGTopologyToolbox.edge_cardinality" title="Link to this definition"></a></dt>
<dd><p>Classify the cardinality of each edge in the KG: one-to-one
(out-degree=in-degree=1), one-to-many (out-degree&gt;1, in-degree=1),
many-to-one(out-degree=1, in-degree&gt;1) or many-to-many
(in-degree&gt;1, out-degree&gt;1).</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></span></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>The result DataFrame, with the same indexing and ordering of
triples as the original KG DataFrame, with columns
(in addition to <cite>h</cite>, <cite>r</cite>, <cite>t</cite>):</p>
<ul class="simple">
<li><p><strong>triple_cardinality</strong> (int): cardinality type of the edge.</p></li>
<li><p><strong>triple_cardinality_same_rel</strong> (int): cardinality type of the edge in
the subgraph of edges with relation type <cite>r</cite>.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kg_topology_toolbox.topology_toolbox.KGTopologyToolbox.edge_degree_cardinality_summary">
<span class="sig-name descname"><span class="pre">edge_degree_cardinality_summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filter_relations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aggregate_by_r</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kg_topology_toolbox/topology_toolbox.html#KGTopologyToolbox.edge_degree_cardinality_summary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#kg_topology_toolbox.topology_toolbox.KGTopologyToolbox.edge_degree_cardinality_summary" title="Link to this definition"></a></dt>
<dd><p>For each edge in the KG, compute the number of edges with the same head
(head-degree, or out-degree), the same tail (tail-degree, or in-degree)
or one of the two (total-degree).
Based on entity degrees, each triple is classified as either one-to-one
(out-degree=in-degree=1), one-to-many (out-degree&gt;1, in-degree=1),
many-to-one(out-degree=1, in-degree&gt;1) or many-to-many
(in-degree&gt;1, out-degree&gt;1).</p>
<p>The output dataframe maintains the same indexing and ordering of triples
as the original Knowledge Graph dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filter_relations</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>]</span>) – If not empty, compute the output only for the edges with relation
in this list of relation IDs.</p></li>
<li><p><strong>aggregate_by_r</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></span>) – If True, return metrics aggregated by relation type
(the output DataFrame will be indexed over relation IDs).</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><p>The results dataframe. Contains the following columns
(in addition to <cite>h</cite>, <cite>r</cite>, <cite>t</cite>):</p>
<ul class="simple">
<li><p><strong>h_unique_rel</strong> (int): Number of distinct relation types
among edges with head entity h.</p></li>
<li><p><strong>h_degree</strong> (int): Number of triples with head entity h.</p></li>
<li><p><strong>h_degree_same_rel</strong> (int): Number of triples with head entity h
and relation type r.</p></li>
<li><p><strong>t_unique_rel</strong> (int): Number of distinct relation types
among edges with tail entity t.</p></li>
<li><p><strong>t_degree</strong> (int): Number of triples with tail entity t.</p></li>
<li><p><strong>t_degree_same_rel</strong> (int): Number of triples with tail entity t
and relation type r.</p></li>
<li><p><strong>tot_degree</strong> (int): Number of triples with head entity h or
tail entity t.</p></li>
<li><p><strong>tot_degree_same_rel</strong> (int): Number of triples with head entity h or
tail entity t, and relation type r.</p></li>
<li><p><strong>triple_cardinality</strong> (int): cardinality type of the edge.</p></li>
<li><p><strong>triple_cardinality_same_rel</strong> (int): cardinality type of the edge in
the subgraph of edges with relation type r.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kg_topology_toolbox.topology_toolbox.KGTopologyToolbox.edge_head_degree">
<span class="sig-name descname"><span class="pre">edge_head_degree</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kg_topology_toolbox/topology_toolbox.html#KGTopologyToolbox.edge_head_degree"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#kg_topology_toolbox.topology_toolbox.KGTopologyToolbox.edge_head_degree" title="Link to this definition"></a></dt>
<dd><p>For each edge in the KG, compute the number of edges
(in total or of the same relation type) with the same head node.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></span></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>The result DataFrame, with the same indexing and ordering of
triples as the original KG DataFrame, with columns
(in addition to <cite>h</cite>, <cite>r</cite>, <cite>t</cite>):</p>
<ul class="simple">
<li><p><strong>h_unique_rel</strong> (int): Number of distinct relation types
among edges with head entity <cite>h</cite>.</p></li>
<li><p><strong>h_degree</strong> (int): Number of triples with head entity <cite>h</cite>.</p></li>
<li><p><strong>h_degree_same_rel</strong> (int): Number of triples with head entity <cite>h</cite>
and relation type <cite>r</cite>.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kg_topology_toolbox.topology_toolbox.KGTopologyToolbox.edge_metapath_count">
<span class="sig-name descname"><span class="pre">edge_metapath_count</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filter_relations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">composition_chunk_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">256</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">composition_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kg_topology_toolbox/topology_toolbox.html#KGTopologyToolbox.edge_metapath_count"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#kg_topology_toolbox.topology_toolbox.KGTopologyToolbox.edge_metapath_count" title="Link to this definition"></a></dt>
<dd><p>For each edge in the KG, compute the number of triangles supported on it
distinguishing between different metapaths (i.e., the unique ordered tuples
(r1, r2) of relation types of the two additional edges of the triangle).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filter_relations</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>]</span>) – If not empty, compute the output only for the edges with relation
in this list of relation IDs.</p></li>
<li><p><strong>composition_chunk_size</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></span>) – Size of column chunks of sparse adjacency matrix
to compute the triangle count. Reduce the parameter if running OOM.
Default: 2**8.</p></li>
<li><p><strong>composition_workers</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></span>) – Number of workers to compute the triangle count. By default, assigned based
on number of available threads (max: 32).</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The output dataframe has one row for each (h, r, t, r1, r2) such that
there exists at least one triangle of metapath (r1, r2) over (h, r, t).
The number of metapath triangles is given in the column <strong>n_triangles</strong>.
The column <strong>index</strong> provides the index of the edge (h, r, t) in the
original Knowledge Graph dataframe.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kg_topology_toolbox.topology_toolbox.KGTopologyToolbox.edge_pattern_summary">
<span class="sig-name descname"><span class="pre">edge_pattern_summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">return_metapath_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_relations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aggregate_by_r</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">composition_chunk_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">256</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">composition_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kg_topology_toolbox/topology_toolbox.html#KGTopologyToolbox.edge_pattern_summary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#kg_topology_toolbox.topology_toolbox.KGTopologyToolbox.edge_pattern_summary" title="Link to this definition"></a></dt>
<dd><p>Analyse structural properties of each edge in the KG:
symmetry, presence of inverse/inference(=parallel) edges and
triangles supported on the edge.</p>
<p>The output dataframe maintains the same indexing and ordering of triples
as the original Knowledge Graph dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>return_metapath_list</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></span>) – If True, return the list of unique metapaths for all
triangles supported over each edge. WARNING: very expensive for large graphs.</p></li>
<li><p><strong>filter_relations</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>]</span>) – If not empty, compute the output only for the edges with relation
in this list of relation IDs.</p></li>
<li><p><strong>aggregate_by_r</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></span>) – If True, return metrics aggregated by relation type
(the output DataFrame will be indexed over relation IDs).</p></li>
<li><p><strong>composition_chunk_size</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></span>) – Size of column chunks of sparse adjacency matrix
to compute the triangle count. Reduce the parameter if running OOM.
Default: 2**8.</p></li>
<li><p><strong>composition_workers</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></span>) – Number of workers to compute the triangle count. By default, assigned based
on number of available threads (max: 32).</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><p>The results dataframe. Contains the following columns
(in addition to <cite>h</cite>, <cite>r</cite>, <cite>t</cite>):</p>
<ul class="simple">
<li><p><strong>is_loop</strong> (bool): True if the triple is a loop (<code class="docutils literal notranslate"><span class="pre">h</span> <span class="pre">==</span> <span class="pre">t</span></code>).</p></li>
<li><p><strong>is_symmetric</strong> (bool): True if the triple (t, r, h) is also contained
in the graph (assuming t and h are different).</p></li>
<li><p><strong>has_inverse</strong> (bool): True if the graph contains one or more triples
(t, r’, h) with <code class="docutils literal notranslate"><span class="pre">r'</span> <span class="pre">!=</span> <span class="pre">r</span></code>.</p></li>
<li><p><strong>n_inverse_relations</strong> (int): The number of inverse relations r’.</p></li>
<li><p><strong>inverse_edge_types</strong> (list): All relations r’ (including r if the edge
is symmetric) such that (t, r’, h) is in the graph.</p></li>
<li><p><strong>has_inference</strong> (bool): True if the graph contains one or more triples
(h, r’, t) with <code class="docutils literal notranslate"><span class="pre">r'</span> <span class="pre">!=</span> <span class="pre">r</span></code>.</p></li>
<li><p><strong>n_inference_relations</strong> (int): The number of inference relations r’.</p></li>
<li><p><strong>inference_edge_types</strong> (list): All relations r’ (including r) such that
(h, r’, t) is in the graph.</p></li>
<li><p><strong>has_composition</strong> (bool): True if the graph contains one or more triangles
supported on the edge: (h, r1, x) + (x, r2, t).</p></li>
<li><p><strong>n_triangles</strong> (int): The number of triangles.</p></li>
<li><p><strong>has_undirected_composition</strong> (bool): True if the graph contains one or more
undirected triangles supported on the edge.</p></li>
<li><p><strong>n_undirected_triangles</strong> (int): The number of undirected triangles
(considering all edges as bidirectional).</p></li>
<li><p><strong>metapath_list</strong> (list): The list of unique metapaths “r1-r2”
for the directed triangles.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kg_topology_toolbox.topology_toolbox.KGTopologyToolbox.edge_tail_degree">
<span class="sig-name descname"><span class="pre">edge_tail_degree</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kg_topology_toolbox/topology_toolbox.html#KGTopologyToolbox.edge_tail_degree"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#kg_topology_toolbox.topology_toolbox.KGTopologyToolbox.edge_tail_degree" title="Link to this definition"></a></dt>
<dd><p>For each edge in the KG, compute the number of edges
(in total or of the same relation type) with the same tail node.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></span></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>The result DataFrame, with the same indexing and ordering of
triples as the original KG DataFrame, with columns
(in addition to <cite>h</cite>, <cite>r</cite>, <cite>t</cite>):</p>
<ul class="simple">
<li><p><strong>t_unique_rel</strong> (int): Number of distinct relation types
among edges with tail entity <cite>t</cite>.</p></li>
<li><p><strong>t_degree</strong> (int): Number of triples with tail entity <cite>t</cite>.</p></li>
<li><p><strong>t_degree_same_rel</strong> (int): Number of triples with tail entity <cite>t</cite>
and relation type <cite>r</cite>.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kg_topology_toolbox.topology_toolbox.KGTopologyToolbox.jaccard_similarity_relation_sets">
<span class="sig-name descname"><span class="pre">jaccard_similarity_relation_sets</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kg_topology_toolbox/topology_toolbox.html#KGTopologyToolbox.jaccard_similarity_relation_sets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#kg_topology_toolbox.topology_toolbox.KGTopologyToolbox.jaccard_similarity_relation_sets" title="Link to this definition"></a></dt>
<dd><p>Compute the similarity between relations defined as the Jaccard Similarity
between sets of entities (heads and tails) for all pairs
of relations in the graph.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></span></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>The results dataframe. Contains the following columns:</p>
<ul class="simple">
<li><p><strong>r1</strong> (int): Index of the first relation.</p></li>
<li><p><strong>r2</strong> (int): Index of the second relation.</p></li>
<li><p><strong>num_triples_both</strong> (int): Number of triples with relation r1/r2.</p></li>
<li><p><strong>frac_triples_both</strong> (float): Fraction of triples with relation r1/r2.</p></li>
<li><p><strong>num_entities_both</strong> (int): Number of unique entities (h or t) for triples
with relation r1/r2.</p></li>
<li><p><strong>num_h_r1</strong> (int): Number of unique head entities for relation r1.</p></li>
<li><p><strong>num_h_r2</strong> (int): Number of unique head entities for relation r2.</p></li>
<li><p><strong>num_t_r1</strong> (int): Number of unique tail entities for relation r1.</p></li>
<li><p><strong>num_t_r2</strong> (int): Number of unique tail entities for relation r2.</p></li>
<li><p><strong>jaccard_head_head</strong> (float): Jaccard similarity between the head set of r1
and the head set of r2.</p></li>
<li><p><strong>jaccard_tail_tail</strong> (float): Jaccard similarity between the tail set of r1
and the tail set of r2.</p></li>
<li><p><strong>jaccard_head_tail</strong> (float): Jaccard similarity between the head set of r1
and the tail set of r2.</p></li>
<li><p><strong>jaccard_tail_head</strong> (float): Jaccard similarity between the tail set of r1
and the head set of r2.</p></li>
<li><p><strong>jaccard_both</strong> (float): Jaccard similarity between the full entity set
of r1 and r2.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kg_topology_toolbox.topology_toolbox.KGTopologyToolbox.loop_count">
<span class="sig-name descname"><span class="pre">loop_count</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kg_topology_toolbox/topology_toolbox.html#KGTopologyToolbox.loop_count"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#kg_topology_toolbox.topology_toolbox.KGTopologyToolbox.loop_count" title="Link to this definition"></a></dt>
<dd><p>For each entity in the KG, compute the number of loops around the entity
(i.e., the number of edges having the entity as both head and tail).</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></span></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Loop count DataFrame, indexed on the IDs of the graph entities.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kg_topology_toolbox.topology_toolbox.KGTopologyToolbox.node_degree_summary">
<span class="sig-name descname"><span class="pre">node_degree_summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">return_relation_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kg_topology_toolbox/topology_toolbox.html#KGTopologyToolbox.node_degree_summary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#kg_topology_toolbox.topology_toolbox.KGTopologyToolbox.node_degree_summary" title="Link to this definition"></a></dt>
<dd><p>For each entity in the KG, compute the number of edges having it as a head
(head-degree, or out-degree), as a tail (tail-degree, or in-degree)
or one of the two (total-degree).
The in-going and out-going relation types are also identified.</p>
<p>The output dataframe is indexed on the IDs of the graph entities.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>return_relation_list</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></span>) – If True, return the list of unique relations going
in/out of an entity. WARNING: expensive for large graphs.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><p>The results dataframe, indexed on the IDs <cite>e</cite> of the graph entities,
with columns:</p>
<ul class="simple">
<li><p><strong>h_degree</strong> (int): Number of triples with head entity <cite>e</cite>.</p></li>
<li><p><strong>t_degree</strong> (int): Number of triples with tail entity <cite>e</cite>.</p></li>
<li><p><strong>tot_degree</strong> (int): Number of triples with head entity <cite>e</cite> or tail entity <cite>e</cite>.</p></li>
<li><p><strong>h_unique_rel</strong> (int): Number of distinct relation types
among edges with head entity <cite>e</cite>.</p></li>
<li><p><strong>h_rel_list</strong> (Optional[list]): List of unique relation types among edges
with head entity <cite>e</cite>.
Only returned if <cite>return_relation_list = True</cite>.</p></li>
<li><p><strong>t_unique_rel</strong> (int): Number of distinct relation types
among edges with tail entity <cite>e</cite>.</p></li>
<li><p><strong>t_rel_list</strong> (Optional[list]): List of unique relation types among edges
with tail entity <cite>e</cite>.
Only returned if <cite>return_relation_list = True</cite>.</p></li>
<li><p><strong>n_loops</strong> (int): number of loops around entity <cite>e</cite>.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kg_topology_toolbox.topology_toolbox.KGTopologyToolbox.node_head_degree">
<span class="sig-name descname"><span class="pre">node_head_degree</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">return_relation_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kg_topology_toolbox/topology_toolbox.html#KGTopologyToolbox.node_head_degree"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#kg_topology_toolbox.topology_toolbox.KGTopologyToolbox.node_head_degree" title="Link to this definition"></a></dt>
<dd><p>For each entity in the KG, compute the number of edges having it as head
(head-degree, or out-degree of the head node).
The relation types going out of the head node are also identified.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>return_relation_list</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></span>) – If True, return the list of unique relations going
out of the head node. WARNING: expensive for large graphs.
Default: False.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><p>The result DataFrame, indexed on the IDs <cite>e</cite> of the graph entities,
with columns:</p>
<ul class="simple">
<li><p><strong>h_degree</strong> (int): Number of triples with head entity <cite>e</cite>.</p></li>
<li><p><strong>h_unique_rel</strong> (int): Number of distinct relation types
among edges with head entity <cite>e</cite>.</p></li>
<li><p><strong>h_rel_list</strong> (Optional[list]): List of unique relation types
among edges with head entity <cite>e</cite>.
Only returned if <cite>return_relation_list = True</cite>.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kg_topology_toolbox.topology_toolbox.KGTopologyToolbox.node_tail_degree">
<span class="sig-name descname"><span class="pre">node_tail_degree</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">return_relation_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kg_topology_toolbox/topology_toolbox.html#KGTopologyToolbox.node_tail_degree"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#kg_topology_toolbox.topology_toolbox.KGTopologyToolbox.node_tail_degree" title="Link to this definition"></a></dt>
<dd><p>For each entity in the KG, compute the number of edges having it as tail
(tail-degree, or in-degree of the tail node).
The relation types going into the tail node are also identified.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>return_relation_list</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></span>) – If True, return the list of unique relation types going
into the tail node. WARNING: expensive for large graphs.
Default: False.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><p>The result DataFrame, indexed on the IDs <cite>e</cite> of the graph entities,
with columns:</p>
<ul class="simple">
<li><p><strong>t_degree</strong> (int): Number of triples with tail entity <cite>e</cite>.</p></li>
<li><p><strong>t_unique_rel</strong> (int): Number of distinct relation types
among edges with tail entity <cite>e</cite>.</p></li>
<li><p><strong>t_rel_list</strong> (Optional[list]): List of unique relation types
among edges with tail entity <cite>e</cite>.
Only returned if <cite>return_relation_list = True</cite>.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="kg_topology_toolbox.topology_toolbox.KGTopologyToolbox.relational_affinity_ingram">
<span class="sig-name descname"><span class="pre">relational_affinity_ingram</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min_max_norm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/kg_topology_toolbox/topology_toolbox.html#KGTopologyToolbox.relational_affinity_ingram"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#kg_topology_toolbox.topology_toolbox.KGTopologyToolbox.relational_affinity_ingram" title="Link to this definition"></a></dt>
<dd><p>Compute the similarity between relations based on the approach proposed in
InGram: Inductive Knowledge Graph Embedding via Relation Graphs,
<a class="reference external" href="https://arxiv.org/abs/2305.19987">https://arxiv.org/abs/2305.19987</a>.</p>
<p>Only the pairs of relations witn <code class="docutils literal notranslate"><span class="pre">affinity</span> <span class="pre">&gt;</span> <span class="pre">0</span></code> are shown in the
returned dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>min_max_norm</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></span>) – min-max normalization of edge weights. Default: False.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><p>The results dataframe. Contains the following columns:</p>
<ul class="simple">
<li><p><strong>h_relation</strong> (int): Index of the head relation.</p></li>
<li><p><strong>t_relation</strong> (int): Index of the tail relation.</p></li>
<li><p><strong>edge_weight</strong> (float): Weight for the affinity between
the head and the tail relation.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="kg_topology_toolbox.topology_toolbox.html" class="btn btn-neutral float-left" title="kg_topology_toolbox.topology_toolbox" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="kg_topology_toolbox.utils.html" class="btn btn-neutral float-right" title="kg_topology_toolbox.utils" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright (c) 2023 Graphcore Ltd. All rights reserved.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>